(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["editar-clientes"],{"1d0a":function(e,t,o){},"21ac":function(e,t,o){"use strict";o("1d0a")},"498a":function(e,t,o){"use strict";var i=o("23e7"),a=o("58a8").trim,n=o("c8d2");i({target:"String",proto:!0,forced:n("trim")},{trim:function(){return a(this)}})},"4b99":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"agregarProv"},[o("h3",{staticClass:"title"},[e._v("Agregar Cliente")]),o("br"),o("div",{staticClass:"formAgregar",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.guardar()}}},[o("div",{staticClass:"grupo"},[o("div",{staticClass:"duo"},[o("label",{staticClass:"label",attrs:{for:"nombre"}},[e._v("Nombre")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.nombre,expression:"nombre"}],staticClass:"input",attrs:{name:"nombre",placeholder:"Nombre",type:"text"},domProps:{value:e.nombre},on:{input:function(t){t.target.composing||(e.nombre=t.target.value)}}})]),o("div",{staticClass:"duo"},[o("label",{staticClass:"label",attrs:{for:"tipoDocumento"}},[e._v("Tipo de documento")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.tipoDocumento,expression:"tipoDocumento"}],staticClass:"input",attrs:{name:"tipoDocumento",placeholder:"Tipo de documento...",type:"text"},domProps:{value:e.tipoDocumento},on:{input:function(t){t.target.composing||(e.tipoDocumento=t.target.value)}}})])]),o("div",{staticClass:"grupo"},[o("div",{staticClass:"duo"},[o("label",{staticClass:"label",attrs:{for:"numDocumento"}},[e._v("Número de documento")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.numDocumento,expression:"numDocumento"}],staticClass:"input",attrs:{name:"numDocumento",placeholder:"Número de doumento...",type:"text"},domProps:{value:e.numDocumento},on:{input:function(t){t.target.composing||(e.numDocumento=t.target.value)}}})]),o("div",{staticClass:"duo"},[o("label",{staticClass:"label",attrs:{for:"direccion"}},[e._v("Dirección")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.direccion,expression:"direccion"}],staticClass:"input",attrs:{type:"text",name:"direccion",placeholder:"Dirección..."},domProps:{value:e.direccion},on:{input:function(t){t.target.composing||(e.direccion=t.target.value)}}})])]),o("div",{staticClass:"grupo"},[o("div",{staticClass:"duo"},[o("label",{staticClass:"label",attrs:{for:"pVenta"}},[e._v("Teléfono")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.telefono,expression:"telefono"}],staticClass:"input",attrs:{name:"telefono",placeholder:"Teléfono...",type:"text"},domProps:{value:e.telefono},on:{input:function(t){t.target.composing||(e.telefono=t.target.value)}}})]),o("div",{staticClass:"duo"},[o("label",{staticClass:"label",attrs:{for:"email"}},[e._v("Email")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{name:"email",placeholder:"email",type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),o("div",{staticClass:"grupo"},[o("div",{staticClass:"duo"},[o("router-link",{staticClass:"volver",attrs:{to:"/compras/proveedores"}},[e._v(" Volver sin guardar ")]),o("button",{staticClass:"guardar",on:{click:function(t){return e.guardar()}}},[e._v(" Guardar ")])],1)]),e._l(e.validarMensaje,(function(t){return o("div",{key:t,staticClass:"divErrores"},[o("p",{staticClass:"errores"},[e._v("* "+e._s(t)+" ")])])})),o("br")],2)])},a=[],n=(o("498a"),o("bc3a")),r=o.n(n),s={data:function(){return{tipoPersona:"Cliente",nombre:"",tipoDocumento:"",numDocumento:"",direccion:"",email:"",telefono:"",ruta:this.$router.currentRoute.fullPath,editar:!1,validar:0,validarMensaje:[],opciones:[]}},methods:{guardar:function(){if(this.validacion(),this.validar<=0)if(this.editar){var e={Token:this.$store.state.token},t={headers:e};r.a.put("persona/update",{_id:this.$router.currentRoute.params.id,tipo_persona:this.tipoPersona,nombre:this.nombre,tipo_documento:this.tipoDocumento,num_documento:this.numDocumento,direccion:this.direccion,telefono:this.telefono,email:this.email},t).then((function(e){console.log("Persona actualizada exitosamente: "+e.data.nombre)})).catch((function(e){console.log(e),alert("No se pudo actualizar el usuario")})),this.limpiar(),this.$router.push({path:"/ventas/clientes"})}else{var o={Token:this.$store.state.token},i={headers:o};r.a.post("persona/add",{tipo_persona:this.tipoPersona,nombre:this.nombre,tipo_documento:this.tipoDocumento,num_documento:this.numDocumento,direccion:this.direccion,telefono:this.telefono,email:this.email},i).then((function(e){console.log("Persona agregada exitosamente: "+e.data.nombre)})).catch((function(e){console.log(e),alert("no se pudo agregar el articulo")})),this.limpiar(),this.$router.push({path:"/ventas/clientes"})}else console.log("Error en la validacion")},opcion:function(){"/ventas/clientes/add"==this.ruta?this.editar=!1:(this.buscarPorId(),this.editar=!0)},buscarPorId:function(){var e=this,t={Token:this.$store.state.token},o={headers:t};r.a.get("persona/query?_id="+this.$router.currentRoute.params.id,o).then((function(t){e.nombre=t.data.nombre,e.tipoDocumento=t.data.tipo_documento,e.numDocumento=t.data.num_documento,e.direccion=t.data.direccion,e.email=t.data.email,e.telefono=t.data.telefono})).catch((function(e){console.log("error del query: "+e)}))},doTrim:function(){this.nombre=this.nombre.trim(),this.tipoDocumento=this.tipoDocumento.trim(),this.numDocumento=this.numDocumento.trim(),this.direccion=this.direccion.trim(),this.email=this.email.trim(),this.telefono=this.telefono.trim()},validacion:function(){this.validar=0,this.validarMensaje=[],this.doTrim();var e=this.tipoDocumento,t=this.nombre,o=this.numDocumento,i=this.direccion,a=this.email,n=this.telefono;return(t.length<1||t.length>50)&&this.validarMensaje.push("Debes ingresar un nombre y este no debe exceder los 50 caracteres"),(e.length<1||e.length>20)&&this.validarMensaje.push("Debes introducir el tipo de documento y este no debe exceder los 20 caracteres"),(o.length<1||o.length>20)&&this.validarMensaje.push("Debes introducir el nombre del documento y este no debe exceder los 20 caracteres"),(i.length<1||i.length>70)&&this.validarMensaje.push("Debes introducir una dirección y esta no puede exceder los 70 caracteres"),(n.length<1||n.length>20)&&this.validarMensaje.push("Debes introducir un telefono y este no puede exceder los 20 caracteres"),(a.length<1||a.length>50)&&this.validarMensaje.push("Debes introducir un email y este no puede exceder los 50 caracteres"),this.validarMensaje.length&&(this.validar=1),this.validar},limpiar:function(){this.nombre="",this.tipoDocumento="",this.numDocumento="",this.direccion="",this.email="",this.telefono="",this.editar=!1,this.ruta=""}},created:function(){this.opcion()}},c=s,l=(o("21ac"),o("2877")),u=Object(l["a"])(c,i,a,!1,null,"6b95ee6a",null);t["default"]=u.exports},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,o){var i=o("1d80"),a=o("5899"),n="["+a+"]",r=RegExp("^"+n+n+"*"),s=RegExp(n+n+"*$"),c=function(e){return function(t){var o=String(i(t));return 1&e&&(o=o.replace(r,"")),2&e&&(o=o.replace(s,"")),o}};e.exports={start:c(1),end:c(2),trim:c(3)}},c8d2:function(e,t,o){var i=o("d039"),a=o("5899"),n="​᠎";e.exports=function(e){return i((function(){return!!a[e]()||n[e]()!=n||a[e].name!==e}))}}}]);
//# sourceMappingURL=editar-clientes.4b65da8d.js.map