(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0c11":function(e,a,s){"use strict";s.r(a);var n=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("section",{staticClass:"login"},[s("h2",{staticClass:"title"},[e._v("Acceder al sistema")]),s("div",{staticClass:"formLogin",on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.ingresar()}}},[e._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"email",placeholder:"Correo electronico..."},domProps:{value:e.email},on:{input:function(a){a.target.composing||(e.email=a.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Contraseña..."},domProps:{value:e.password},on:{input:function(a){a.target.composing||(e.password=a.target.value)}}}),e._l(e.mensajes,(function(a){return s("div",{key:a,staticClass:"mensajeError"},[s("p",{staticClass:"error"},[e._v("* "+e._s(a))])])})),s("button",{staticClass:"ingresar",on:{click:function(a){return e.ingresar()}}},[e._v("Ingresar")])],2)])},t=[function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("h5",[e._v("credenciales para ingresar "),s("br"),e._v(" usuario: admin2@prueba.com clave: admin clave: admin "),s("br"),e._v(" usuario: almacenero@prueba.com clave: almacen ")])}],r=s("bc3a"),i=s.n(r),o={data:function(){return{email:"",password:"",mensajes:[],errorMensaje:""}},methods:{ingresar:function(){var e=this;this.validar(),this.mensajes.length?console.log("Debe validar los campos"):i.a.post("/usuario/login",{email:this.email,password:this.password}).then((function(e){return e.data})).then((function(a){e.$store.dispatch("guardarToken",a.tokenReturn),e.limpiar(),e.$router.push({name:"Inicio"})})).catch((function(a){console.log(a),e.errorMensaje="Usuario inexistente o contraseña incorrecta",e.mensajes.push(e.errorMensaje)}))},validar:function(){this.mensajes=[];var e="";this.email.length<1&&(e="Debes introducir un email válido",this.mensajes.push(e)),this.password.length<1&&(e="Debes introducir una contraseña válida",this.mensajes.push(e))},limpiar:function(){this.mensajes=[],this.errorMensaje="",this.email="",this.password=""}}},c=o,l=(s("3f0c"),s("2877")),u=Object(l["a"])(c,n,t,!1,null,"3918c2c6",null);a["default"]=u.exports},"3f0c":function(e,a,s){"use strict";s("48ee")},"48ee":function(e,a,s){}}]);
//# sourceMappingURL=login.9b73b813.js.map